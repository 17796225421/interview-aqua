# 玩法二（k堆石子每次只从1堆取）

**简化问题**：有三堆各若干个物品，两我的轮流从某一堆取任意多的物品，规定每次至少取一个，多者不限，最后取光者得胜。

  这种状况最有意思，它与二进制有密切关系，咱们用（a，b，c）表示某种局势，首先（0，0，0）显然是奇异局势，不管谁面对奇异局势，都必然失败。第二种奇异局势是（0，n，n），只要与对手拿走同样多的物品，最后都将致使（0，0，0）。仔细分析一下，（1，2，3）也是奇异局势，不管对手如何拿，接下来均可以变为（0，n，n）的情形。
  计算机算法里面有一种叫作按位模2加，也叫作异或的运算，咱们用符号（+）表示这种运算。这种运算和通常加法不一样的一点是1+1=0。先看（1，2，3）的按位模2加的结果：
1 =二进制01
2 =二进制10
3 =二进制11 （+）
———————
0 =二进制00 （注意不进位）
  对于奇异局势（0，n，n）也同样，结果也是0。
  任何奇异局势（a，b，c）都有a（+）b（+）c =0。
若是咱们面对的是一个非奇异局势（a，b，c），要如何变为奇异局势呢？假设 a < b< c,咱们只要将 c 变为 a（+）b,便可,由于有以下的运算结果: a（+）b（+）(a（+）b)=(a（+）a)（+）(b（+）b)=0（+）0=0。要将c 变为a（+）b，只要从 c中减去 c-（a（+）b）便可。

**获胜状况对先取者的讨论**

异或结果为0，先取者必败，无获胜方法。后取者获胜；

结果不为0，先取者有获胜的取法。

**奇异局势的断定**

  对于一个普通的局势，如何判断其是否是奇异局势？对于一个局势(s1,s2,...sk)，对全部石子个数作位的异或运算，s1^s2^s3^...^sk，若是结果为0，那么局势(s1,s2,...sk)就是奇异局势（平衡），不然就不是（非平衡）。从二进制位的角度上说，奇异局势时，每个bit位上1的个数都是偶数。

**玩家的策略**

  就是把面对的非奇异局势变为奇异局势留给对方。也就是从某一堆取出若干石子以后，使得每个bit位上1的个数都变为偶数，这样的取法通常不仅有一种。能够将其中一堆的石子数变为其余堆石子数的位异或运算的值（若是这个值比原来的石子数小的话）。

**拓展**

任给N堆石子,两人轮流从任一堆中任取(每次只能取自一堆),取最后一颗石子的人获胜，问先取的人如何获胜？

根据上面所述，N个数异或便可。若是开始的时候T＝0，那么先取者必败，若是开始的时候T>0，那么只要每次取出石子使得T＝0，即先取者有获胜的方法。

最后一个奇异局势是(0,0...,0)。另外一个奇异局势是(n,n,0...0)，只要对手老是和我拿走同样多的物品，最后会面对(0,0...,0)。