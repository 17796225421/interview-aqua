#### 协程、线程、进程优缺点.线程和进程间的区别

进程：是系统资源分配的最小单位

- 多进程优点: 是稳定性高，因为一个子进程崩溃了，不会影响主进程和其他子进程。
- 多进程缺点: 创建进程的代价大，在*Unix/Linux*系统下，用 *fork* 调用还行，在 *Windows* 下创建进程开销巨大。另外，操作系统能同时运行的进程数也是有限的，在内存和CPU的限制下，如果有几千个进程同时运行，操作系统连调度都会成问题。

线程：是系统调度的基本单位，能充分利用多核，

- 多线程优点：调度通常比多进程快一点。
- 多线程缺点：致命的缺点就是任何一个线程挂掉都可能直接造成整个进程崩溃，因为所有线程共享进程的内存。

协程：能充分利用单核

- 优点：进程/线程在切换调度时，都是需要进入内核态。协程位于线程内，协程的切换只涉及用户态。因此，协程的切换更加高效，能充分利用单核。协程能用同步的思想，编写异步的代码，回避了回调函数。

- 缺点：本质是个单线程，只不能发挥多核能力

  多线程+协程：IO密集型
  多进程：计算密集型