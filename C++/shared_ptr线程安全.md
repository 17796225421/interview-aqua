`std::shared_ptr`的引用计数本身是安全且无锁的，但对象的读写则不是。也就是说`std::shared_ptr`对象的创建析构是线程安全的，但是多线程读写`std::shared_ptr`对象不是线程安全的。`std::shared_ptr` 内存是由于两个组成部分： 指向管理对象的指针 和 引用计数器。在读/写时，是直接对两个变量操作，不可能是原子类型的。因为 `std::shared_ptr` 有两个数据成员，读写操作不能原子化.使得多线程读写同一个 std::shared_ptr 对象需要加锁.